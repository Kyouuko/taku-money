"use strict";(self.webpackChunkTAKUv2=self.webpackChunkTAKUv2||[]).push([[732],{8732:(De,k,c)=>{c.r(k),c.d(k,{MobileModule:()=>Ie});var s=c(6019),p=c(8239),e=c(1514),u=c(4653);function M(i,o){1&i&&(e.TgZ(0,"div",1),e.TgZ(1,"div",2),e.TgZ(2,"span",3),e._uU(3,"Loading..."),e.qZA(),e.qZA(),e.qZA())}let T=(()=>{class i{constructor(){this.showLoading=!1}ngOnInit(){setTimeout(()=>{this.showLoading=!0},400)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-loadingmobile"]],decls:1,vars:1,consts:[["class","position-absolute top-50 start-50 translate-middle animate__animated animate__fadeIn",4,"ngIf"],[1,"position-absolute","top-50","start-50","translate-middle","animate__animated","animate__fadeIn"],["role","status",1,"spinner-border","text-info",2,"width","70px","height","70px","border-width","5px"],[1,"visually-hidden"]],template:function(t,a){1&t&&e.YNc(0,M,4,0,"div",0),2&t&&e.Q6J("ngIf",a.showLoading)},directives:[s.O5],styles:[""]}),i})();var g=c(5304);function U(i,o){1&i&&e._UZ(0,"span",6)}function I(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij("( ",t.contador," )")}}let D=(()=>{class i{constructor(t,a,n){this.service=t,this.dialogRef=a,this.data=n,this.contador=5,this.deshabilitando=!1}ngOnInit(){this.reducirContador()}reducirContador(){setTimeout(()=>{this.contador>0&&(this.contador--,this.reducirContador())},1e3)}deshabilitar(){var t=this;return(0,p.Z)(function*(){t.deshabilitando=!0,t.dialogRef.disableClose=!0;const a=yield t.service.get(`Admin/ChangeStatus/${t.data.id}`);200===a.status?t.dialogRef.close(!0):(t.service.eject(),console.log(a))})()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(u.j),e.Y36(g.so),e.Y36(g.WI))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-toggleworker-dialog"]],decls:9,vars:3,consts:[[1,"text-info","text-center"],[1,"text-white"],[1,"d-grid","gap-2"],["type","button",1,"btn","btn-danger",3,"disabled","click"],["class","spinner-border spinner-border-sm",4,"ngIf"],[4,"ngIf"],[1,"spinner-border","spinner-border-sm"]],template:function(t,a){1&t&&(e.TgZ(0,"h3",0),e._uU(1," Deshabilitar?"),e.qZA(),e.TgZ(2,"p",1),e._uU(3,"Puedes volver a habilitarlo en cualquier momento"),e.qZA(),e.TgZ(4,"div",2),e.TgZ(5,"button",3),e.NdJ("click",function(){return a.deshabilitar()}),e.YNc(6,U,1,0,"span",4),e._uU(7," Deshabilitar "),e.YNc(8,I,2,1,"span",5),e.qZA(),e.qZA()),2&t&&(e.xp6(5),e.Q6J("disabled",a.contador>0||a.deshabilitando),e.xp6(1),e.Q6J("ngIf",a.deshabilitando),e.xp6(2),e.Q6J("ngIf",a.contador>0))},directives:[s.O5],styles:[""]}),i})();var b=c(7207),x=c(6231),m=c(6731),J=c(3448),A=c(348),d=c(7537),F=c(9555);const j=["thumbContainer"],O=["toggleBar"],L=["input"],S=function(i){return{enterDuration:i}},N=["*"],R=new e.OlP("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})});let E=0;const Q={provide:d.JU,useExisting:(0,e.Gpc)(()=>y),multi:!0};class B{constructor(o,t){this.source=o,this.checked=t}}const P=(0,m.sb)((0,m.pj)((0,m.Kr)((0,m.Id)(class{constructor(i){this._elementRef=i}}))));let y=(()=>{class i extends P{constructor(t,a,n,r,l,_){super(t),this._focusMonitor=a,this._changeDetectorRef=n,this.defaults=l,this._onChange=C=>{},this._onTouched=()=>{},this._uniqueId="mat-slide-toggle-"+ ++E,this._required=!1,this._checked=!1,this.name=null,this.id=this._uniqueId,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new e.vpe,this.toggleChange=new e.vpe,this.tabIndex=parseInt(r)||0,this.color=this.defaultColor=l.color||"accent",this._noopAnimations="NoopAnimations"===_}get required(){return this._required}set required(t){this._required=(0,A.Ig)(t)}get checked(){return this._checked}set checked(t){this._checked=(0,A.Ig)(t),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{t||Promise.resolve().then(()=>this._onTouched())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onChangeEvent(t){t.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}_onInputClick(t){t.stopPropagation()}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}focus(t,a){a?this._focusMonitor.focusVia(this._inputElement,a,t):this._inputElement.nativeElement.focus(t)}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(new B(this,this.checked))}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(J.tE),e.Y36(e.sBO),e.$8M("tabindex"),e.Y36(R),e.Y36(F.Qb,8))},i.\u0275cmp=e.Xpm({type:i,selectors:[["mat-slide-toggle"]],viewQuery:function(t,a){if(1&t&&(e.Gf(j,5),e.Gf(O,5),e.Gf(L,5)),2&t){let n;e.iGM(n=e.CRH())&&(a._thumbEl=n.first),e.iGM(n=e.CRH())&&(a._thumbBarEl=n.first),e.iGM(n=e.CRH())&&(a._inputElement=n.first)}},hostAttrs:[1,"mat-slide-toggle"],hostVars:12,hostBindings:function(t,a){2&t&&(e.Ikx("id",a.id),e.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null),e.ekj("mat-checked",a.checked)("mat-disabled",a.disabled)("mat-slide-toggle-label-before","before"==a.labelPosition)("_mat-animation-noopable",a._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],features:[e._Bn([Q]),e.qOj],ngContentSelectors:N,decls:16,vars:20,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["toggleBar",""],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container"],["thumbContainer",""],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(t,a){if(1&t&&(e.F$t(),e.TgZ(0,"label",0,1),e.TgZ(2,"span",2,3),e.TgZ(4,"input",4,5),e.NdJ("change",function(r){return a._onChangeEvent(r)})("click",function(r){return a._onInputClick(r)}),e.qZA(),e.TgZ(6,"span",6,7),e._UZ(8,"span",8),e.TgZ(9,"span",9),e._UZ(10,"span",10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"span",11,12),e.NdJ("cdkObserveContent",function(){return a._onLabelTextChange()}),e.TgZ(13,"span",13),e._uU(14,"\xa0"),e.qZA(),e.Hsn(15),e.qZA(),e.qZA()),2&t){const n=e.MAs(1),r=e.MAs(12);e.uIk("for",a.inputId),e.xp6(2),e.ekj("mat-slide-toggle-bar-no-side-margin",!r.textContent||!r.textContent.trim()),e.xp6(2),e.Q6J("id",a.inputId)("required",a.required)("tabIndex",a.tabIndex)("checked",a.checked)("disabled",a.disabled),e.uIk("name",a.name)("aria-checked",a.checked)("aria-label",a.ariaLabel)("aria-labelledby",a.ariaLabelledby)("aria-describedby",a.ariaDescribedby),e.xp6(5),e.Q6J("matRippleTrigger",n)("matRippleDisabled",a.disableRipple||a.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",e.VKq(18,S,a._noopAnimations?0:150))}},directives:[m.wG,x.wD],styles:[".mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:transparent}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{-webkit-user-select:none;-moz-user-select:none;user-select:none;display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%;display:block}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}.cdk-high-contrast-active .mat-slide-toggle.cdk-keyboard-focused .mat-slide-toggle-bar{outline:2px dotted;outline-offset:5px}\n"],encapsulation:2,changeDetection:0}),i})(),q=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({}),i})(),w=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[q,m.si,m.BQ,x.Q8],q,m.BQ]}),i})();const V=function(i,o){return{"text-success":i,"text-danger":o}};function H(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",1),e.TgZ(1,"div",2),e.TgZ(2,"div",3),e.TgZ(3,"div",4),e.TgZ(4,"div",5),e.TgZ(5,"mat-slide-toggle",6),e.NdJ("ngModelChange",function(n){return e.CHM(t).$implicit.Estado=n})("change",function(){const r=e.CHM(t).$implicit;return e.oxw().toggleTrabajador(r)}),e.qZA(),e.qZA(),e.TgZ(6,"div",7),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().watchWorker(r.Id)}),e.TgZ(7,"h5",8),e._uU(8),e.qZA(),e.TgZ(9,"p",9),e._uU(10," Ubicaciones: "),e.TgZ(11,"span",10),e._uU(12),e._UZ(13,"i",11),e.qZA(),e.qZA(),e.TgZ(14,"p",9),e._uU(15," Caja total: "),e.TgZ(16,"span",10),e._uU(17),e._UZ(18,"i",12),e.qZA(),e.qZA(),e.TgZ(19,"p",9),e._uU(20," Ultima Conexi\xf3n: "),e.TgZ(21,"span",13),e._uU(22),e.ALo(23,"date"),e._UZ(24,"i",14),e.qZA(),e.qZA(),e.TgZ(25,"p",9),e._uU(26," Ultima fecha de pago: "),e.TgZ(27,"span",10),e._uU(28),e.ALo(29,"date"),e._UZ(30,"i",14),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=o.$implicit,a=e.oxw();e.xp6(5),e.Q6J("disabled",!t.toggle)("ngModel",t.Estado),e.xp6(3),e.Oqu(t.NombreUsuario),e.xp6(4),e.Oqu(t.Ubicacion.length),e.xp6(5),e.hij("",a.calcularCaja(t.Ubicacion)," "),e.xp6(4),e.Q6J("ngClass",e.WLB(14,V,a.checkUltimaConexion(t.FechaUltimoLogin),!a.checkUltimaConexion(t.FechaUltimoLogin))),e.xp6(1),e.hij("",e.xi3(23,8,t.FechaUltimoLogin,"mediumDate")," "),e.xp6(6),e.hij("",e.xi3(29,11,t.UltimaFechaPago,"mediumDate")," ")}}let $=(()=>{class i{constructor(t,a,n){this.dialog=t,this.router=a,this.service=n,this.activo=!1}ngOnInit(){}toggleTrabajador(t){var a=this;return(0,p.Z)(function*(){t.Estado?200===(t.toggle=!1,(yield a.service.get(`Admin/ChangeStatus/${t.Id}`)).status)?t.toggle=!0:a.service.eject():a.dialog.open(D,{data:{id:t.Id}}).afterClosed().subscribe(r=>{r||(t.Estado=!0)})})()}calcularCaja(t){let a=0;return t.forEach(n=>{a+=n.CajaChica}),a}watchWorker(t){this.router.navigate([`/index/supervisor/mobile/worker/${t}`])}checkUltimaConexion(t){return(new Date).setHours(0,0,0,0)==new Date(t).setHours(0,0,0,0)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(g.uw),e.Y36(b.F0),e.Y36(u.j))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-cardstrabajadoresmobile"]],inputs:{workers:"workers"},decls:1,vars:1,consts:[["class","row",4,"ngFor","ngForOf"],[1,"row"],[1,"col"],[1,"card","border-info","mb-3"],[1,"card-body","bg-dark","text-white"],[1,"toggle"],[3,"disabled","ngModel","ngModelChange","change"],[3,"click"],[1,"card-title","text-center","text-info"],[1,"card-text"],[1,"text-info"],[1,"bi","bi-geo-alt-fill"],[1,"bi","bi-coin"],[3,"ngClass"],[1,"bi","bi-calendar-week"]],template:function(t,a){1&t&&e.YNc(0,H,31,17,"div",0),2&t&&e.Q6J("ngForOf",a.workers)},directives:[s.sg,y,d.JJ,d.On,s.mk],pipes:[s.uU],styles:[".toggle[_ngcontent-%COMP%]{float:right}"]}),i})();function G(i,o){1&i&&e._UZ(0,"app-loadingmobile")}function z(i,o){if(1&i&&(e.TgZ(0,"div",2),e._UZ(1,"app-cardstrabajadoresmobile",3),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("workers",t.workers)}}let X=(()=>{class i{constructor(t){this.service=t,this.cargandoWorkers=!0,this.workers=[]}ngOnInit(){var t=this;return(0,p.Z)(function*(){const a=yield t.service.get("admin/getusers"),n=(new Date).setHours(0,0,0,0);200===a.status?t.workers=a.body.map(r=>(r.toggle=!((n-new Date(r.UltimaFechaPago).setHours(0,0,0,0))/864e5>=30),r)):t.service.eject(),t.cargandoWorkers=!1})()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(u.j))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-dashboard"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["listaWorkers",""],[1,"mt-2","animate__animated","animate__fadeIn"],[3,"workers"]],template:function(t,a){if(1&t&&(e.YNc(0,G,1,0,"app-loadingmobile",0),e.YNc(1,z,2,1,"ng-template",null,1,e.W1O)),2&t){const n=e.MAs(2);e.Q6J("ngIf",a.cargandoWorkers)("ngIfElse",n)}},directives:[s.O5,T,$],styles:[""]}),i})();var v=c(7970),K=c(1173),h=c(8727),Z=c(8167),ee=c(138);let te=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[],imports:[[d.UX,h.FA,Z.lN,ee.c,K.D,s.ez,w,d.u5,v.vQ],w,g.Is]}),i})(),ae=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[s.ez,g.Is,d.u5]]}),i})();function ie(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",1),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().showLocation(r.Id)}),e.TgZ(1,"div",2),e.TgZ(2,"div",3),e.TgZ(3,"div",4),e.TgZ(4,"h5",5),e._uU(5),e.qZA(),e.TgZ(6,"p",6),e._uU(7," Caja: "),e.TgZ(8,"span",7),e._uU(9),e._UZ(10,"i",8),e.qZA(),e.qZA(),e.TgZ(11,"p",6),e._uU(12," Clientes: "),e.TgZ(13,"span",7),e._uU(14),e._UZ(15,"i",9),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=o.$implicit;e.xp6(5),e.Oqu(t.Nombre),e.xp6(4),e.Oqu(t.CajaChica),e.xp6(5),e.hij("",t.CantCliente," ")}}let oe=(()=>{class i{constructor(t){this.router=t,this.ubicaciones=[]}ngOnInit(){}showLocation(t){this.router.navigate([`/index/supervisor/mobile/location/${t}`])}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(b.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-cardubicacionestrabajadormobile"]],inputs:{ubicaciones:"ubicaciones"},decls:1,vars:1,consts:[["class","row",3,"click",4,"ngFor","ngForOf"],[1,"row",3,"click"],[1,"col"],[1,"card","border-info","mb-3"],[1,"card-body","bg-dark","text-white"],[1,"card-title","text-center","text-info"],[1,"card-text"],[1,"text-info"],[1,"bi","bi-coin"],[1,"bi","bi-people-fill"]],template:function(t,a){1&t&&e.YNc(0,ie,16,3,"div",0),2&t&&e.Q6J("ngForOf",a.ubicaciones)},directives:[s.sg],styles:[""]}),i})();function ne(i,o){1&i&&e._UZ(0,"app-loadingmobile")}function re(i,o){if(1&i&&(e.TgZ(0,"div",2),e.TgZ(1,"h1",3),e._uU(2),e.qZA(),e._UZ(3,"app-cardubicacionestrabajadormobile",4),e.qZA()),2&i){const t=e.oxw();e.xp6(2),e.hij("Viendo a ",t.nombreUsuario,""),e.xp6(1),e.Q6J("ubicaciones",t.ubicaciones)}}let se=(()=>{class i{constructor(t,a){this.params=t,this.service=a,this.nombreUsuario="",this.cargandoWorker=!0}ngOnInit(){var t=this;return(0,p.Z)(function*(){const a=t.params.snapshot.params.id,n=yield t.service.get(`admin/getubicacionesporusuario/${a}`);200===n.status?(t.ubicaciones=n.body.Ubicacion,t.nombreUsuario=n.body.NombreUsuario):t.service.eject(),t.cargandoWorker=!1})()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(b.gz),e.Y36(u.j))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-worker"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["listaWorkers",""],[1,"mt-2","animate__animated","animate__fadeIn"],[1,"text-center","text-info"],[3,"ubicaciones"]],template:function(t,a){if(1&t&&(e.YNc(0,ne,1,0,"app-loadingmobile",0),e.YNc(1,re,4,2,"ng-template",null,1,e.W1O)),2&t){const n=e.MAs(2);e.Q6J("ngIf",a.cargandoWorker)("ngIfElse",n)}},directives:[s.O5,T,oe],styles:[""]}),i})(),le=(()=>{class i{constructor(){this.nombre="",this.cantClientes=0}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-ubicacionmobile"]],inputs:{nombre:"nombre",cantClientes:"cantClientes"},decls:11,vars:2,consts:[[1,"row"],[1,"col"],[1,"card","border-info","mb-3"],[1,"card-body","bg-dark","text-white"],[1,"card-title","text-center","text-info"],[1,"card-text"],[1,"text-info"],[1,"bi","bi-geo-alt-fill"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"h5",4),e._uU(5),e.qZA(),e.TgZ(6,"p",5),e._uU(7," Clientes: "),e.TgZ(8,"span",6),e._uU(9),e._UZ(10,"i",7),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(5),e.Oqu(a.nombre),e.xp6(4),e.hij("",a.cantClientes," "))},styles:[""]}),i})();var f=c(7887);function ce(i,o){1&i&&e._UZ(0,"span",12)}let de=(()=>{class i{constructor(t){this.data=t,this.loadingPosition=!1,this.markersList=[],this.clienteActual=0,this.limiteInferior=0,this.limiteSuperior=0}ngOnInit(){f.accessToken="pk.eyJ1Ijoia3lvdXV1a28iLCJhIjoiY2wwbTZzcGJyMTNiODNob3Rnaml6dWpjeSJ9.2hy6OAlfjvKHKWhbjGTjrw",this.map=new f.Map({container:"mapa",style:"mapbox://styles/mapbox/streets-v11",center:[139.7827458057494,35.67318291060905],zoom:15}),this.createMarkers(),this.clienteActual=0;let t=0;for(;t<this.markersList.length;t++)if(this.markersList[t]){this.map.setCenter([this.markersList[t].lng,this.markersList[t].lat]),this.clienteActual=t,this.limiteInferior=t;break}for(t=this.markersList.length;t>=0;t--)if(this.markersList[t]){this.limiteSuperior=t;break}}createMarkers(){let t=139.7827458057494,a=35.67318291060905;this.data.clientes.forEach((n,r)=>{n.Latitud&&n.Longitud?(t=n.Longitud,a=n.Latitud,new f.Marker({draggable:!1,color:n.pagoHoy?"#0dcaf0":"#FF4545"}).setLngLat([n.Longitud,n.Latitud]).addTo(this.map).setPopup(new f.Popup({offset:25}).setHTML(`${n.NombreCompleto}<br>Cliente: ${r+1}`)),this.markersList.push({lat:a,lng:t})):this.markersList.push(null)}),this.map.setCenter([t,a])}getPosition(){navigator.geolocation?(this.loadingPosition=!0,navigator.geolocation.getCurrentPosition(t=>{this.map.setCenter([t.coords.longitude,t.coords.latitude]),this.marker?this.marker.setLngLat([t.coords.longitude,t.coords.latitude]):this.marker=new f.Marker({draggable:!1,color:"#79FF76"}).setLngLat([t.coords.longitude,t.coords.latitude]).addTo(this.map),this.loadingPosition=!1},t=>{alert("No podemos acceder a tu ubicaci\xf3n porque no has otorgado los permisos necesarios"),this.loadingPosition=!1})):alert("Contacta con un administrador")}moverIzquierda(){if(0==this.clienteActual)return;let t=!1,a=this.clienteActual-1;for(;a>=0;a--)if(this.markersList[a]){this.map.setCenter([this.markersList[a].lng,this.markersList[a].lat]),t=!0;break}t&&(this.clienteActual=a)}moverDerecha(){if(this.clienteActual==this.markersList.length)return;let t=!1,a=this.clienteActual+1;for(;a<this.markersList.length;a++)if(this.markersList[a]){this.map.setCenter([this.markersList[a].lng,this.markersList[a].lat]),t=!0;break}t&&(this.clienteActual=a)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(g.WI))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-mapmobile"]],decls:20,vars:7,consts:[["id","mapa"],[1,"row","mt-2"],[1,"col-6"],[1,"d-grid","gap-2"],[1,"btn","btn-success","m-0",3,"disabled","click"],[1,"bi","bi-arrow-left-square-fill"],[1,"bi","bi-arrow-right-square-fill"],[1,"col"],["type","button",1,"btn","btn-info","m-0",3,"disabled","click"],["class","spinner-border spinner-border-sm",4,"ngIf"],[1,"col","text-center"],[1,"text-white"],[1,"spinner-border","spinner-border-sm"]],template:function(t,a){1&t&&(e._UZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"button",4),e.NdJ("click",function(){return a.moverIzquierda()}),e._UZ(5,"i",5),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"div",2),e.TgZ(7,"div",3),e.TgZ(8,"button",4),e.NdJ("click",function(){return a.moverDerecha()}),e._UZ(9,"i",6),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"div",1),e.TgZ(11,"div",7),e.TgZ(12,"div",3),e.TgZ(13,"button",8),e.NdJ("click",function(){return a.getPosition()}),e.YNc(14,ce,1,0,"span",9),e._uU(15," Mi Ubicaci\xf3n"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"div",1),e.TgZ(17,"div",10),e.TgZ(18,"p",11),e._uU(19),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(4),e.Q6J("disabled",a.clienteActual==a.limiteInferior||0==a.markersList.length),e.xp6(4),e.Q6J("disabled",a.clienteActual==a.limiteSuperior||0==a.markersList.length),e.xp6(5),e.Q6J("disabled",a.loadingPosition),e.xp6(1),e.Q6J("ngIf",a.loadingPosition),e.xp6(5),e.lnq("Cliente: ",a.clienteActual+1,"/",a.markersList.length," - ",a.data.clientes[a.clienteActual].NombreCompleto,""))},directives:[s.O5],styles:["#mapa[_ngcontent-%COMP%]{width:100%;height:80%}"]}),i})();function ge(i,o){1&i&&e._UZ(0,"span",23)}function pe(i,o){if(1&i&&(e.TgZ(0,"div",4,24),e._UZ(2,"canvas",25),e.qZA()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("data",t.barChartData)("options",t.barChartOptions)("type",t.barChartType)}}let me=(()=>{class i{constructor(t,a,n){this.dialog=t,this.service=a,this.datePipe=n,this.clientesPagados=[],this.clientesNOPagados=[],this.clientes=[],this.idUbicacion=0,this.today=new Date,this.pieChartOptions={responsive:!0,plugins:{legend:{display:!0,position:"top"}}},this.pieChartData={labels:["Clientes Cobrados","Clientes Restantes"],datasets:[{data:[this.clientes.length,21],backgroundColor:["#0dcaf0","#FF7676"]}]},this.pieChartType="pie",this.barChartOptions={responsive:!0,scales:{x:{},y:{min:10}},plugins:{legend:{display:!0}}},this.barChartType="bar",this.barChartData={labels:[],datasets:[{data:[],label:"Cobrado",backgroundColor:"#0dcaf0"},{data:[],label:"Prestado",backgroundColor:"#FF7676"}]},this.btnFecha=!0,this.showBarChart=!1,this.cargandoFechas=!1}ngOnInit(){let t=0;this.clientes.forEach(a=>{a.pagoHoy&&t++}),this.pieChartData.datasets[0].data[0]=t,this.pieChartData.datasets[0].data[1]=this.clientes.length-t}ngAfterViewInit(){this.charts.forEach(t=>{t.chart.update()})}showMap(){this.dialog.open(de,{width:"95%",height:"95%",data:{clientes:this.clientes}})}comprobarFechas(){!this.startDate||!this.endDate||(this.btnFecha=this.endDate.getDate()-this.startDate.getDate()>6)}calcularFechas(){var t=this;return(0,p.Z)(function*(){var a;t.cargandoFechas=!0;const n={fechaI:new Date(t.startDate.setHours(0,0,0,0)).toDateString(),fechaF:new Date(t.endDate.setHours(11,59,59,0)).toDateString(),idUbicacion:t.idUbicacion};console.log(n);const r=yield t.service.post("Admin/GetStatsBetweenDate",n);200===r.status?(console.log(r.body),t.showBarChart=!0,t.barChartData.labels=null===(a=r.body)||void 0===a?void 0:a.cobro.map(l=>t.datePipe.transform(l.Fecha,"MMM d")),t.barChartData.datasets[0].data=r.body.cobro.map(l=>l.Monto),t.barChartData.datasets[1].data=r.body.prestamo.map(l=>l.Monto),t.charts.forEach(l=>{l.chart.update()})):(t.showBarChart=!1,alert("Ocurrio un error, intenta nuevamente o actualiza la pagina.")),t.cargandoFechas=!1})()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(g.uw),e.Y36(u.j),e.Y36(s.uU))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-statisticsmobile"]],viewQuery:function(t,a){if(1&t&&e.Gf(v.jh,5),2&t){let n;e.iGM(n=e.CRH())&&(a.charts=n)}},inputs:{clientes:"clientes",idUbicacion:"idUbicacion"},decls:31,vars:11,consts:[[1,"row"],[1,"col-12"],[1,"card","border-info","mb-3"],[1,"card-body","bg-dark","text-white"],[1,"chart"],["donas",""],["baseChart","",3,"data","type","options"],[1,"d-grid","gap-2","mt-3"],["type","button",1,"btn","btn-info",3,"click"],["id","matSupervisor",1,"card-body","bg-dark","text-white"],["appearance","fill",2,"width","100%"],[2,"color","white"],[3,"rangePicker","max"],["matStartDate","","placeholder","Start date","disabled","",2,"color","white",3,"ngModel","ngModelChange"],["dateStart",""],["matEndDate","","placeholder","End date","disabled","",2,"color","white",3,"ngModel","ngModelChange","dateChange"],["dateEnd",""],["matSuffix","",3,"for"],["disabled","false",1,"dateWhite"],["picker",""],["type","button",1,"btn","btn-info",3,"disabled","click"],["class","spinner-border spinner-border-sm",4,"ngIf"],["class","chart",4,"ngIf"],[1,"spinner-border","spinner-border-sm"],["barras",""],["baseChart","",3,"data","options","type"]],template:function(t,a){if(1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4,5),e._UZ(6,"canvas",6),e.qZA(),e.TgZ(7,"div",7),e.TgZ(8,"button",8),e.NdJ("click",function(){return a.showMap()}),e._uU(9,"Ver mapa"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"div",1),e.TgZ(11,"div",2),e.TgZ(12,"div",9),e.TgZ(13,"h6"),e._uU(14,"Puedes ver como m\xe1ximo una semana"),e.qZA(),e.TgZ(15,"mat-form-field",10),e.TgZ(16,"mat-label",11),e._uU(17,"Introduce un rango de fechas"),e.qZA(),e.TgZ(18,"mat-date-range-input",12),e.TgZ(19,"input",13,14),e.NdJ("ngModelChange",function(r){return a.startDate=r}),e.qZA(),e.TgZ(21,"input",15,16),e.NdJ("ngModelChange",function(r){return a.endDate=r})("dateChange",function(){return a.comprobarFechas()}),e.qZA(),e.qZA(),e._UZ(23,"mat-datepicker-toggle",17),e._UZ(24,"mat-date-range-picker",18,19),e.qZA(),e.TgZ(26,"div",7),e.TgZ(27,"button",20),e.NdJ("click",function(){return a.calcularFechas()}),e.YNc(28,ge,1,0,"span",21),e._uU(29," Buscar"),e.qZA(),e.qZA(),e.YNc(30,pe,3,3,"div",22),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t){const n=e.MAs(25);e.xp6(6),e.Q6J("data",a.pieChartData)("type",a.pieChartType)("options",a.pieChartOptions),e.xp6(12),e.Q6J("rangePicker",n)("max",a.today),e.xp6(1),e.Q6J("ngModel",a.startDate),e.xp6(2),e.Q6J("ngModel",a.endDate),e.xp6(2),e.Q6J("for",n),e.xp6(4),e.Q6J("disabled",a.btnFecha||a.cargandoFechas),e.xp6(1),e.Q6J("ngIf",a.cargandoFechas),e.xp6(2),e.Q6J("ngIf",a.showBarChart)}},directives:[v.jh,Z.KE,Z.hX,h.wx,h.zY,d.Fj,d.JJ,d.On,h.By,h.nW,Z.R9,h._g,s.O5],styles:[""]}),i})();function ue(i,o){if(1&i&&(e.TgZ(0,"option",19),e._uU(1),e.qZA()),2&i){const t=o.index;e.Q6J("value",t+1),e.xp6(1),e.Oqu(t+1)}}function he(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"select",17),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().$implicit.aBorrar=n}),e.YNc(1,ue,2,2,"option",18),e.qZA()}if(2&i){const t=e.oxw().$implicit,a=e.oxw();e.Q6J("ngModel",t.aBorrar),e.xp6(1),e.Q6J("ngForOf",a.generateArray(t.cuotasPagadas))}}function be(i,o){1&i&&(e.TgZ(0,"select",20),e.TgZ(1,"option"),e._uU(2,"0"),e.qZA(),e.qZA())}function fe(i,o){1&i&&e._UZ(0,"span",21)}const _e=function(i,o){return{"btn-info":i,"btn-light":o}};function Ce(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"li",8),e.TgZ(1,"div",4),e.TgZ(2,"a",9),e._uU(3),e.ALo(4,"date"),e.qZA(),e.qZA(),e.TgZ(5,"div",10),e.TgZ(6,"div",11),e.TgZ(7,"div",12),e.TgZ(8,"div",13),e._uU(9),e.qZA(),e.qZA(),e.TgZ(10,"div",14),e.TgZ(11,"div",13),e.YNc(12,he,2,2,"select",15),e.YNc(13,be,3,0,"select",16),e.qZA(),e.TgZ(14,"div",13),e.TgZ(15,"div",4),e.TgZ(16,"button",5),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().borrarCuotas(r)}),e._uU(17,"Borrar"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"div",14),e.TgZ(19,"div",13),e.TgZ(20,"div",4),e.TgZ(21,"button",5),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().borrarTarjeta(r)}),e.YNc(22,fe,1,0,"span",6),e._uU(23," Borrar Tarjeta"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=o.$implicit,a=o.index,n=e.oxw();e.xp6(2),e.Q6J("ngClass",e.WLB(15,_e,t.pagoHoy,!t.pagoHoy))("href","#collapse"+a,e.LSH),e.xp6(1),e.AsE(" ",t.Monto," - ",e.xi3(4,12,t.FechaRegistro,"mediumDate")," "),e.xp6(2),e.Q6J("id","collapse"+a),e.xp6(4),e.AsE(" Cuotas pagadas: ",t.cuotasPagadas,"/",t.PlazoEnDias," "),e.xp6(3),e.Q6J("ngIf",t.cuotasPagadas),e.xp6(1),e.Q6J("ngIf",!t.cuotasPagadas),e.xp6(3),e.Q6J("disabled",!n.habilitarBotones||0==t.aBorrar),e.xp6(5),e.Q6J("disabled",!n.habilitarBotones||t.borrando),e.xp6(1),e.Q6J("ngIf",t.borrando)}}function Ze(i,o){1&i&&(e.TgZ(0,"h3",22),e._uU(1,"No hay prestamos para este cliente"),e.qZA())}function Te(i,o){1&i&&e._UZ(0,"span",21)}function ve(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij("(",t.contador,")")}}let ke=(()=>{class i{constructor(t,a,n){this.data=t,this.dialogRef=a,this.service=n,this.habilitarBotones=!1,this.contador=10,this.borrandoCuota=!1,this.borrandoCliente=!1}ngOnInit(){this.data.cliente.Prestamo.forEach(t=>{let a=0;t.Cobro.forEach(n=>{a+=n.CantCuota}),t.cuotasPagadas=a,t.aBorrar=0}),this.reducirContador()}generateArray(t){return[...Array(t).keys()]}reducirContador(){setTimeout(()=>{this.contador>=0?(this.contador--,this.reducirContador()):this.habilitarBotones=!0},1e3)}borrarTarjeta(t){var a=this;return(0,p.Z)(function*(){200===(t.borrando=!0,a.dialogRef.disableClose=!0,(yield a.service.get(`admin/deleteprestamo/${t.Id}`)).status)?(a.dialogRef.disableClose=!1,a.data.cliente.Prestamo=a.data.cliente.Prestamo.filter(r=>r.Id!=t.Id)):(a.dialogRef.disableClose=!1,t.borrando=!1,alert("Ocurrio un error. Intenta nuevamente o actualiza la pagina"))})()}borrarCuotas(t){var a=this;return(0,p.Z)(function*(){if(200===(a.borrandoCuota=!0,a.dialogRef.disableClose=!0,(yield a.service.post("admin/deletecuota",{idPrestamo:t.Id,CantidadCuotas:t.aBorrar})).status)){t.cuotasPagadas-=t.aBorrar,a.dialogRef.disableClose=!1,a.borrandoCuota=!1;for(let r=t.Cobro.length-1;r>=0&&t.aBorrar>0;r--){if(t.Cobro[r].CantCuota>t.aBorrar){t.Cobro[r].CantCuota-=t.aBorrar,t.aBorrar=0;break}if(t.Cobro[r].CantCuota==t.aBorrar){t.aBorrar=0,t.Cobro.pop();break}t.Cobro[r].CantCuota<t.aBorrar&&(t.aBorrar-=t.Cobro[r].CantCuota,t.Cobro.pop())}}else a.dialogRef.disableClose=!1,a.borrandoCuota=!1,alert("Ocurrio un error. Intenta nuevamente o actualiza la pagina")})()}borrarCliente(){var t=this;return(0,p.Z)(function*(){200===(t.borrandoCliente=!0,t.dialogRef.disableClose=!0,(yield t.service.get(`admin/deletecliente/${t.data.cliente.Id}`)).status)?t.dialogRef.close(!0):(t.borrandoCliente=!1,t.dialogRef.disableClose=!1,alert("Ocurrio un error. Intenta nuevamente o actualiza la pagina"))})()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(g.WI),e.Y36(g.so),e.Y36(u.j))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-vercliente"]],decls:13,vars:6,consts:[[1,"text-info","text-center"],[1,"list-group","list-group-flush","bg-transparent"],["class","list-group-item bg-transparent",4,"ngFor","ngForOf"],["class","text-light text-center",4,"ngIf"],[1,"d-grid","gap-2"],["type","button",1,"btn","btn-danger",3,"disabled","click"],["class","spinner-border spinner-border-sm",4,"ngIf"],[4,"ngIf"],[1,"list-group-item","bg-transparent"],["type","button","data-bs-toggle","collapse",1,"btn",3,"ngClass","href"],[1,"collapse",3,"id"],[1,"card","card-body","mt-2"],[1,"row"],[1,"col"],[1,"row","mt-2"],["class","form-select","aria-label","Default select example",3,"ngModel","ngModelChange",4,"ngIf"],["class","form-select","aria-label","Default select example",4,"ngIf"],["aria-label","Default select example",1,"form-select",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["aria-label","Default select example",1,"form-select"],[1,"spinner-border","spinner-border-sm"],[1,"text-light","text-center"]],template:function(t,a){1&t&&(e.TgZ(0,"h2",0),e._uU(1),e.qZA(),e._UZ(2,"hr"),e.TgZ(3,"mat-dialog-content"),e.TgZ(4,"div",1),e.YNc(5,Ce,24,18,"li",2),e.YNc(6,Ze,2,0,"h3",3),e.qZA(),e.qZA(),e._UZ(7,"hr"),e.TgZ(8,"div",4),e.TgZ(9,"button",5),e.NdJ("click",function(){return a.borrarCliente()}),e.YNc(10,Te,1,0,"span",6),e._uU(11," Borrar Cliente "),e.YNc(12,ve,2,1,"span",7),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Oqu(a.data.cliente.NombreCompleto),e.xp6(4),e.Q6J("ngForOf",a.data.cliente.Prestamo),e.xp6(1),e.Q6J("ngIf",0==a.data.cliente.Prestamo.length),e.xp6(3),e.Q6J("disabled",!a.habilitarBotones||a.borrandoCliente),e.xp6(1),e.Q6J("ngIf",a.borrandoCliente),e.xp6(2),e.Q6J("ngIf",a.contador>=0))},directives:[g.xY,s.sg,s.O5,s.mk,d.EJ,d.JJ,d.On,d.YN,d.Kr],pipes:[s.uU],styles:[""]}),i})(),xe=(()=>{class i{transform(t,a){return t.filter(r=>r.NombreCompleto.toLowerCase().indexOf(a)>=0)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275pipe=e.Yjl({name:"filtrarSupervisor",type:i,pure:!0}),i})();const Ae=function(i,o){return{paid:i,"no-paid":o}};function ye(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"li",8),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().modalCliente(r)}),e._uU(1),e.TgZ(2,"span",9),e._uU(3),e._UZ(4,"i",10),e.qZA(),e.qZA()}if(2&i){const t=o.$implicit;e.Q6J("ngClass",e.WLB(3,Ae,t.pagoHoy,!t.pagoHoy)),e.xp6(1),e.hij(" ",t.NombreCompleto," "),e.xp6(2),e.hij("",t.Prestamo.length," ")}}let qe=(()=>{class i{constructor(t){this.dialog=t,this.terminoBusqueda=""}ngOnInit(){}modalCliente(t){this.dialog.open(ke,{width:"80%",data:{cliente:t}}).afterClosed().subscribe(n=>{n&&(this.clientes=this.clientes.filter(r=>r.Id!=t.Id))})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(g.uw))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-clientesmobile"]],inputs:{clientes:"clientes"},decls:11,vars:5,consts:[[1,"row"],[1,"col"],[1,"card","border-info","mb-3"],[1,"card-body","bg-dark","text-white"],[1,"text-info","text-center"],["type","text","placeholder","Filtrar",1,"form-control",3,"ngModel","ngModelChange"],[1,"list-group","list-group-flush","bg-transparent"],["class","list-group-item d-flex justify-content-between align-items-center bg-transparent text-white",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between","align-items-center","bg-transparent","text-white",3,"ngClass","click"],[1,"text-white"],[1,"bi","bi-card-text"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"h3",4),e._uU(5,"Todos los Clientes"),e.qZA(),e.TgZ(6,"input",5),e.NdJ("ngModelChange",function(r){return a.terminoBusqueda=r}),e.qZA(),e.TgZ(7,"div"),e.TgZ(8,"div",6),e.YNc(9,ye,5,6,"li",7),e.ALo(10,"filtrarSupervisor"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(6),e.Q6J("ngModel",a.terminoBusqueda),e.xp6(3),e.Q6J("ngForOf",e.xi3(10,2,a.clientes,a.terminoBusqueda)))},directives:[d.Fj,d.JJ,d.On,s.sg,s.mk],pipes:[xe],styles:[".paid[_ngcontent-%COMP%]{color:#0dcaf0!important}.no-paid[_ngcontent-%COMP%]{color:#ff7676!important}"]}),i})();function we(i,o){1&i&&e._UZ(0,"app-loadingmobile")}function Me(i,o){if(1&i&&(e.TgZ(0,"div",2),e._UZ(1,"app-ubicacionmobile",3),e._UZ(2,"app-statisticsmobile",4),e._UZ(3,"app-clientesmobile",5),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("nombre",t.data.Nombre)("cantClientes",t.data.Cliente.length),e.xp6(1),e.Q6J("clientes",t.data.Cliente)("idUbicacion",t.data.Id),e.xp6(1),e.Q6J("clientes",t.data.Cliente)}}const Ue=[{path:"dashboard",component:X},{path:"worker/:id",component:se},{path:"location/:id",component:(()=>{class i{constructor(t,a){this.service=t,this.params=a,this.cargandoUbicacion=!0,this.today=(new Date).setHours(0,0,0,0)}ngOnInit(){var t=this;return(0,p.Z)(function*(){t.cargandoUbicacion=!0;const{id:a}=t.params.snapshot.params,n=yield t.service.get(`admin/getubicacion/${a}`);200===n.status?(t.data=n.body,t.data.Cliente=t.data.Cliente.map(r=>{let l=!1;for(let _=0;_<r.Prestamo.length;_++){let C=r.Prestamo[_];if(C.Cobro.length>0&&new Date(C.Cobro[C.Cobro.length-1].FechaRegistro).setHours(0,0,0,0)==t.today){l=!0,C.pagoHoy=!0;break}}return r.pagoHoy=l,r})):t.service.eject(),t.cargandoUbicacion=!1})()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(u.j),e.Y36(b.gz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-workerlocation"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["ubicacion",""],[1,"mt-2","animate__animated","animate__fadeIn"],[3,"nombre","cantClientes"],[3,"clientes","idUbicacion"],[3,"clientes"]],template:function(t,a){if(1&t&&(e.YNc(0,we,1,0,"app-loadingmobile",0),e.YNc(1,Me,4,5,"ng-template",null,1,e.W1O)),2&t){const n=e.MAs(2);e.Q6J("ngIf",a.cargandoUbicacion)("ngIfElse",n)}},directives:[s.O5,T,le,me,qe],styles:[""]}),i})()},{path:"**",pathMatch:"full",redirectTo:"dashboard"}];let Ie=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[s.ez,te,ae,b.Bz.forChild(Ue)]]}),i})()}}]);